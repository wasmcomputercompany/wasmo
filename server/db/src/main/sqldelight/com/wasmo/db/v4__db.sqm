import com.wasmo.identifiers.AccountId;
import com.wasmo.identifiers.CookieId;
import kotlin.time.Instant;

CREATE TABLE Cookie (
  id BIGINT AS CookieId GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  created_at TIMESTAMPTZ AS Instant NOT NULL,
  account_id BIGINT AS AccountId NOT NULL,
  token VARCHAR(25) UNIQUE NOT NULL,
  created_by_user_agent VARCHAR(255) NULL,
  created_by_ip VARCHAR(255) NULL
);

CREATE INDEX CookieByAccountId ON Cookie (
  account_id
);
